{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block content %}
<h1 class="my-2">Fill in your order data:</h1>
<div class="mt-4">
    <form method="POST" onsubmit="disable_on_click()">
        {% csrf_token %}
        {{form|crispy}}
        <button id='submit-button' type="submit" class="btn btn-primary my-4 " type="button">Order</button>
        <button onclick="history.back()" class="btn btn-secondary" type="button">Go back</button>
    </form>
</div>
<!--Block button after sending form submission to prevent duplicate orders.-->
<script>
    function disable_on_click() {
      var element = document.getElementById('submit-button');
      element.setAttribute("disabled", "disabled");
    }
</script>
{% endblock %}